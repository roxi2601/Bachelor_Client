@page "/Statistics"
@using Syncfusion.Blazor.Charts
@using Bachelor_Client.Models
@using Bachelor_Client.Services.WorkerConfig
@inject IWorkerConfigService WorkerConfigService
<SfChart>
    <ChartPrimaryXAxis ValueType="Syncfusion.Blazor.Charts.ValueType.Category"></ChartPrimaryXAxis>

    <ChartSeriesCollection>
        <ChartSeries DataSource="@WorkerDetails" Name="NumberOfFailedRuns" XName="Country" Width="2" Opacity="1" YName="NumberOfFailedRuns" Type="ChartSeriesType.Column">
        </ChartSeries>
        <ChartSeries DataSource="@WorkerDetails" Name="NumberOSuccessRuns" XName="Country" Width="2" Opacity="1" YName="NumberOSuccessRuns" Type="ChartSeriesType.Column">
        </ChartSeries>
    </ChartSeriesCollection>
</SfChart>

@code{
    
    private List<Models.WorkerConfiguration> WorkerConfigList = new();
    
    public List<Models.WorkerStatistic> WorkerDetails = new List<Models.WorkerStatistic>
    {
        new Models.WorkerStatistic(){ Url= "Cata", NumberOfFailedRuns= 50 },
       
    };
    protected override async Task OnInitializedAsync()
    {
        WorkerConfigList = await WorkerConfigService.ReadAllWorkerConfigurations();
    }
}
@*

<SfChart Title="Analysis of Failed Runs">
    <ChartPrimaryXAxis ValueType="Syncfusion.Blazor.Charts.ValueType.Category" Title="Workers"
                       LabelPlacement="LabelPlacement.OnTicks" EdgeLabelPlacement="EdgeLabelPlacement.Shift"
                       LabelIntersectAction="LabelIntersectAction.Rotate90"
                       EnableTrim="true" MaximumLabelWidth="38" LabelPosition="AxisPosition.Outside">
        <ChartAxisLabelStyle Color="red" FontWeight="bold"></ChartAxisLabelStyle>
        <ChartAxisTitleStyle Color="#ed7d31" FontWeight="bold"></ChartAxisTitleStyle>
        <ChartMultiLevelLabels>
           
            <ChartMultiLevelLabel>
                <ChartAxisMultiLevelLabelTextStyle FontWeight="bold"></ChartAxisMultiLevelLabelTextStyle>
                <ChartAxisMultiLevelLabelBorder Type="BorderType.Brace" Color="blue" Width=2>
                </ChartAxisMultiLevelLabelBorder>
                <ChartCategories>
                    <ChartCategory Start="-0.5" End="21.5" Text="Worker Name"></ChartCategory>
                </ChartCategories>
            </ChartMultiLevelLabel>
        </ChartMultiLevelLabels>
    </ChartPrimaryXAxis>
    <ChartPrimaryYAxis Title="Number Of Failed Runs" Minimum="0" Maximum="100" Interval="10">
        <ChartAxisLabelStyle Color="blue" FontWeight="bold"></ChartAxisLabelStyle>
        <ChartAxisTitleStyle Color="#ed7d31" FontWeight="bold"></ChartAxisTitleStyle>
    </ChartPrimaryYAxis>
    <ChartSeriesCollection>
        <ChartSeries DataSource="@ChartData" XName="Name" YName="Value" Type="ChartSeriesType.Column">
        </ChartSeries>
    </ChartSeriesCollection>
</SfChart>

@code {

    public class ChartDataModel
    {
        public string Name { get; set; }
        public double Value { get; set; }
    }

    public List<ChartDataModel> ChartData = new List<ChartDataModel>
{
        new ChartDataModel { Name = "Beetroot", Value = 31 },
        new ChartDataModel { Name = "Tomato" , Value = 89 },
        new ChartDataModel { Name = "Cucumber",  Value = 62 },
        new ChartDataModel { Name = "Cabbage",  Value = 48 },
        new ChartDataModel { Name = "Potato" , Value = 96 },
        new ChartDataModel { Name = "Turnip", Value = 60 },
        new ChartDataModel { Name = "Radish", Value = 52 },
        new ChartDataModel { Name = "Pumpkin", Value = 20 },
        new ChartDataModel { Name = "Peas", Value = 40 },
        new ChartDataModel { Name = "Onion", Value = 79 },
        new ChartDataModel { Name = "Carrot", Value = 53 },
        new ChartDataModel { Name = "PineApple", Value = 28 },
        new ChartDataModel { Name = "Jackfruit", Value = 50 },
        new ChartDataModel { Name = "Strawberry" , Value = 12 },
        new ChartDataModel { Name = "Pomogranate",  Value = 43 },
        new ChartDataModel { Name = "Watermelon", Value = 35 },
        new ChartDataModel { Name = "Lemon", Value = 27 },
        new ChartDataModel { Name = "Grape", Value = 35 },
        new ChartDataModel { Name = "Guava", Value = 72 },
        new ChartDataModel { Name = "Apple", Value = 30 },
        new ChartDataModel { Name = "Banana", Value = 50 },
        new ChartDataModel { Name = "Raspberries", Value = 10 }
    };


}
*@